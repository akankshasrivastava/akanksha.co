<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ site.title }}</title>
  <meta name="description" content="{{ site.description }}">
  <meta name="author" content="Akanksha Srivastava">
  <meta property="og:title" content="{{ site.title }}">
  <meta property="og:description" content="{{ site.description }}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ site.url }}">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500&family=Lora:ital,wght@0,400;0,500;1,400&family=Caveat:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>✦</text></svg>">
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
</head>
<body>

  <div class="grain"></div>

  <div class="site-wrapper">
    <aside class="spine">
      <div class="spine-header">
        <h1 class="site-name" id="site-name-link">akanksha</h1>
        <div class="site-name-line"></div>
      </div>
      <div class="spine-scroll">
        <div class="spine-thread"></div>
        <div id="spine-entries"></div>
      </div>
      <div class="currently-wrap" id="currently-wrap"></div>
      <div class="littleone-wrap" id="littleone-wrap"></div>
      <nav class="spine-nav">
        <a class="nav-link" data-section="research" href="#research">research</a>
        <a class="nav-link" data-section="writing" href="#writing">writing</a>
        <a class="nav-link" data-section="notes" href="#notes">notes</a>
        <a class="nav-link" data-section="sketchbook" href="#sketchbook">sketchbook</a>
        <a class="nav-link" data-section="about" href="#about">about</a>
      </nav>
    </aside>

    <main class="notebook-area">
      <div class="notebook">
        <div class="notebook-lines"></div>
        <div class="notebook-margin"></div>
        <div class="notebook-content" id="notebook-inner"></div>
        <div class="notebook-fade"></div>
      </div>
    </main>
  </div>

  <script>
  // ── Data from Jekyll ──
  {% assign sorted_writing = site.writing | sort: "order" %}
  var NAMED_PIECES = [{% for piece in sorted_writing %}{
    id: {{ piece.slug | jsonify }},
    type: {{ piece.type | jsonify }},
    section: {{ piece.section | jsonify }},
    title: {{ piece.title | jsonify }},
    visible: {{ piece.visible }},
    lockedNote: {% if piece.locked_note and piece.locked_note != "" %}{{ piece.locked_note | jsonify }}{% else %}null{% endif %},
    isPoem: {{ piece.type | jsonify }} === "poem",
    marginNotes: {{ piece.margin_notes | jsonify | default: "[]" }},
    crosslinks: {{ piece.crosslinks | jsonify | default: "[]" }},
    contentHtml: {% if piece.visible and piece.content != "" %}{{ piece.content | jsonify }}{% else %}null{% endif %}
  }{% unless forloop.last %},{% endunless %}{% endfor %}];

  var TIMELINE = [{% for entry in site.data.timeline %}{
    month: {{ entry.month | jsonify }},
    tags: {{ entry.tags | jsonify }}
  }{% unless forloop.last %},{% endunless %}{% endfor %}];

  var CURRENTLY = {
    reading: {{ site.data.currently.reading | jsonify }},
    obsessing: {{ site.data.currently.obsessing | jsonify }},
    listening: {{ site.data.currently.listening | jsonify }}
  };

  var LITTLEONE = [{% for q in site.data.littleone %}{{ q.quote | jsonify }}{% unless forloop.last %},{% endunless %}{% endfor %}];

  var ABOUT = {
    fragments: {{ site.data.about.fragments | jsonify }},
    bio: {{ site.data.about.bio_short | jsonify }},
    links: {{ site.data.about.links | jsonify }}
  };

  var SKETCHBOOK = [{% for s in site.data.sketchbook %}{
    title: {{ s.title | jsonify }},
    type: {{ s.type | jsonify }},
    image: {{ s.image | jsonify }},
    caption: {{ s.caption | jsonify }},
    visible: {{ s.visible }}
  }{% unless forloop.last %},{% endunless %}{% endfor %}];
  </script>

  <script src="{{ '/assets/js/main.js' | relative_url }}"></script>

</body>
</html>
